<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TruthLens AI - Professional News Verification Platform</title>
    
    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@700&display=swap" rel="stylesheet">
    
    <!-- Your CSS Files -->
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/animations.css">
    <link rel="stylesheet" href="/static/css/truthlens-enhanced.css">
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="logo-text">
                        <h1>TruthLens AI</h1>
                        <p>Professional News Verification</p>
                    </div>
                </div>
                <span class="pro-badge">PRO</span>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">Advanced AI-Powered News Analysis</h1>
            <p class="hero-subtitle">
                Verify news articles with our comprehensive suite of 8 specialized AI services.
                Get detailed insights on credibility, bias, manipulation, and more.
            </p>

            <!-- Service Pills -->
            <div class="service-pills">
                <div class="service-pill">
                    <i class="fas fa-shield-alt"></i>
                    <span>Source Credibility</span>
                </div>
                <div class="service-pill">
                    <i class="fas fa-user-check"></i>
                    <span>Author Analysis</span>
                </div>
                <div class="service-pill">
                    <i class="fas fa-balance-scale"></i>
                    <span>Bias Detection</span>
                </div>
                <div class="service-pill">
                    <i class="fas fa-check-double"></i>
                    <span>Fact Checking</span>
                </div>
                <div class="service-pill">
                    <i class="fas fa-eye"></i>
                    <span>Transparency Analysis</span>
                </div>
                <div class="service-pill">
                    <i class="fas fa-mask"></i>
                    <span>Manipulation Detection</span>
                </div>
                <div class="service-pill">
                    <i class="fas fa-file-alt"></i>
                    <span>Content Analysis</span>
                </div>
                <div class="service-pill">
                    <i class="fas fa-copy"></i>
                    <span>Plagiarism Detection</span>
                </div>
            </div>

            <!-- Input Section -->
            <div class="input-container">
                <!-- Input Mode Toggle -->
                <div class="input-mode-toggle">
                    <button class="mode-btn active" data-mode="url">
                        <i class="fas fa-link"></i>
                        URL Mode
                    </button>
                    <button class="mode-btn" data-mode="text">
                        <i class="fas fa-file-text"></i>
                        Text Mode
                    </button>
                </div>
                
                <!-- Mode Explanation -->
                <div class="mode-explanation">
                    <div id="urlExplanation" class="explanation-text active">
                        <i class="fas fa-info-circle"></i>
                        Enter the URL of a news article. We'll automatically extract and analyze the content.
                    </div>
                    <div id="textExplanation" class="explanation-text">
                        <i class="fas fa-lightbulb"></i>
                        If the website blocks our analyzer, copy and paste the entire article text here instead.
                    </div>
                </div>
                
                <!-- URL Input -->
                <div id="urlInputWrapper" class="input-wrapper active">
                    <input 
                        type="url" 
                        id="urlInput" 
                        class="url-input" 
                        placeholder="Enter a news article URL to analyze..."
                        autocomplete="off"
                    >
                    <button id="analyzeBtn" class="analyze-button">
                        <i class="fas fa-search"></i>
                        Analyze Article
                    </button>
                    <button id="resetBtn" class="reset-button">
                        <i class="fas fa-redo"></i>
                        Reset
                    </button>
                </div>
                
                <!-- Text Input (hidden by default) -->
                <div id="textInputWrapper" class="input-wrapper text-wrapper">
                    <textarea 
                        id="textInput" 
                        class="text-input" 
                        placeholder="Paste the full article text here..."
                        rows="6"
                    ></textarea>
                    <div class="text-controls">
                        <button id="analyzeTextBtn" class="analyze-button">
                            <i class="fas fa-search"></i>
                            Analyze Text
                        </button>
                        <button id="resetTextBtn" class="reset-button">
                            <i class="fas fa-redo"></i>
                            Reset
                        </button>
                    </div>
                </div>
                
                <div id="errorMessage" class="error-message"></div>
                
                <!-- Example URLs for testing -->
                <div style="margin-top: 1rem; padding: 0.75rem; background: var(--gray-100); border-radius: var(--radius); text-align: center;">
                    <p style="color: var(--gray-700); font-size: 0.813rem; margin-bottom: 0.375rem;">
                        <strong>Note:</strong> Some sites like Washington Post block automated analysis. Try these instead:
                    </p>
                    <div style="display: flex; flex-wrap: wrap; gap: 0.375rem; justify-content: center; margin-top: 0.375rem;">
                        <button class="example-btn" data-url="https://www.cnn.com">CNN</button>
                        <button class="example-btn" data-url="https://www.bbc.com/news">BBC News</button>
                        <button class="example-btn" data-url="https://www.reuters.com">Reuters</button>
                        <button class="example-btn" data-url="https://www.npr.org">NPR</button>
                        <button class="example-btn" data-url="https://www.theguardian.com">The Guardian</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Results Section -->
        <div id="resultsSection" class="results-section">
            <!-- Enhanced Trust Score Section -->
            <div class="trust-score-section">
                <div class="trust-score-header">
                    <div>
                        <h2>Overall Trust Score Analysis</h2>
                    </div>
                    <div class="download-section">
                        <button class="download-button" id="downloadPdfBtn">
                            <i class="fas fa-file-pdf"></i>
                            Download Report
                        </button>
                        <button class="download-button" id="shareResultsBtn">
                            <i class="fas fa-share-alt"></i>
                            Share
                        </button>
                    </div>
                </div>
                <div class="trust-score-content">
                    <div class="trust-gauge-container">
                        <div class="trust-gauge-visual">
                            <canvas id="trustGauge"></canvas>
                            <div class="trust-score-value">
                                <span id="trustScoreNumber" class="trust-score-number">0</span>
                                <span class="trust-score-label">out of 100</span>
                            </div>
                        </div>
                        <div id="trustLevelIndicator" class="trust-level-indicator">
                            <i id="trustLevelIcon" class="fas fa-circle trust-level-icon"></i>
                            <span id="trustLevelText" class="trust-level-text">Analyzing...</span>
                        </div>
                    </div>
                    <div class="trust-score-details">
                        <h2>What This Score Means</h2>
                        <p id="trustSummary" class="trust-summary"></p>
                        
                        <div class="what-we-analyzed">
                            <div class="what-we-analyzed-title">
                                <i class="fas fa-search"></i>
                                What We Analyzed
                            </div>
                            <div class="what-we-analyzed-content">
                                We examined 8 critical dimensions of this article including the credibility of the source and author, 
                                potential biases, factual accuracy, transparency of information, manipulation techniques, 
                                content quality, and originality. Each component contributes to the overall trust score.
                            </div>
                        </div>

                        <div id="trustBreakdown" class="trust-breakdown"></div>
                    </div>
                </div>
            </div>

            <!-- Article Info Section -->
            <div class="article-info-section">
                <div class="article-header">
                    <h3 id="articleTitle" class="article-title"></h3>
                    <div id="articleMeta" class="article-meta"></div>
                </div>
                <div id="keyFindings" class="key-findings"></div>
            </div>

            <!-- Services Accordion -->
            <div id="servicesAccordion" class="services-accordion"></div>
        </div>
    </main>

    <!-- Load JavaScript Files - FIXED PATHS -->
    <script src="/static/js/truthlens-core.js"></script>
    <script src="/static/js/truthlens-display.js"></script>
    <script src="/static/js/truthlens-services.js"></script>
    
    <style>
        /* Additional styles for elements not in your CSS files */
        .example-btn {
            padding: 0.25rem 0.625rem;
            background: white;
            border: 1px solid #D1D5DB;
            border-radius: 0.5rem;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            color: #374151;
        }
        
        .example-btn:hover {
            border-color: #6366F1;
            color: #6366F1;
            background: #F9FAFB;
        }
    </style>
</body>
</html>
